<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- font family -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;600;700&family=Roboto+Slab&display=swap" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&family=Poppins&family=Source+Sans+Pro:wght@200;300;400&display=swap" rel="stylesheet">

    <!-- icons for mobile menu -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- icon for popups -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"> -->
    <!-- <link rel="stylesheet" href="href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->
    <!-- font awesome animations -->
    <script src="https://kit.fontawesome.com/ec81d6615d.js" crossorigin="anonymous"></script>

    <!-- Scroll bar -->
    <link rel="stylesheet" href="https://unpkg.com/simplebar@latest/dist/simplebar.css"/>
    <script src="https://unpkg.com/simplebar@latest/dist/simplebar.min.js" defer></script>


    <!-- Styles -->
    <link rel="stylesheet" href="assets/css/headerFooter.css">
    <!-- <link rel="stylesheet" href="contact.css"> -->
    <link rel="stylesheet" href="assets/css/announcements.css">
    
    
    <title>Announcements</title>
</head>
<body>

    <div class="modal">
        <img src="" class="full-img"/>
    </div>


    

    <div class="body">
        


        <section class="header">
            <section class="logo test">
                    <img src="assets/images/bridalshowerpic.jpg">
                    <a href="/"><span class="main-header">Detroit</span><br>Bridal Shower</a>
            </section>
            <nav class="headerNav" id="navLinks">
                <i class="fa fa-times" onclick="hideMenu()"></i>
                <ul>
                    <li><a href="/">HOME</a></li>
                    <li><a href="about">ABOUT</a></li>
                    <li><a href="contact">CONTACT</a></li>
                    <!-- For Mobile -->
                    <div class="mobileNav">
                        <li><a href="addCouple">ADD A COUPLE</a></li>
                        <li><a href="announcements">ANNOUNCEMENTS</a></li>
                        <li><a href="shoppingGuide">SHOPPING GUIDE</a></li>
                    </div>
                    <!--  -->
                    <li class="drop">MORE <span class="sortDownContainer"> <i class="fa-solid fa-sort-down"></i></span></li>
                        <ul class="dropDown">
                            <!-- <li><a href="hostess">BECOME A HOSTESS</a></li> -->
                            <li><a href="/#services">ADD A COUPLE</a></li>
                            <li><a href="announcements">ANNOUNCEMENTS</a></li>
                            <li><a href="shoppingGuide">SHOPPING GUIDE</a></li>
                            <li><a href="financialAssistance">FINANCIAL ASSISTANCE</a></li>
                        </ul>
                </ul>
                
            </nav>
            <i class="fa fa-bars" onclick="showMenu()"></i>
        </section>


        <div class="contain">



            <h1>Recent Announcements</h1>
        
        
            <div class="recents">
                  
                    
                    
                    <%  
                    let i = coupleInfo.length - 1
                    let count = 0
                    <!-- for (let i = 0; i < 3; i++) {  -->
                    while (count < 3 && i>=0) {

            
                <!-- while (count < 3) { -->

                     if (coupleInfo[i]!=null && coupleInfo[i].announcement === true) { %>


                <div class="img-container"  id="announcements">
                    <h1 class="mazel">Mazel tov!</h1>


                  <% if (coupleInfo[i].chossonOrigin === '1' && coupleInfo[i].kallahOrigin === '1') { %>
                        <p>
                            <span><b><%= coupleInfo[i].chossonName %></b></span>
                            <br>and<br>
                            <span><b><%= coupleInfo[i].kallahName %></b></span>
                        </p>
                        
                    <% }
                        else if (coupleInfo[i].chossonOrigin === '1') { %>
                        <p>
                            <span><b><%= coupleInfo[i].chossonName %></b></span>
                            <br>and<br>
                            <span><%= coupleInfo[i].kallahName %></span>
                        </p>                            
                      <%  }
                        else { %>
                            <p>
                                <span><b><%= coupleInfo[i].kallahName %></b></span>
                                <br>and<br>
                                <span><%= coupleInfo[i].chossonName %></span>
                            </p>
                       <% } %>

                    <!-- <img src="https://tse2.mm.bing.net/th?id=OIP.N3OV4KpjQ5Yun0Ksx9lWCAHaHa&pid=Api&P=0"> -->
                    <!-- <p><span class="kallah"><b>Yehudis Greenbaum</b></span><br>and<br><span class="chosson">Ahron Yosef Blumenfeld</span></p> -->
                    <a data-original="<%= coupleInfo[i].chossonName + ' ' + coupleInfo[i].kallahName%>.png" class=" view">View</a>
                </div>

                <% 
                   
                   count++
                    } %>
                <% i--
             } %>
            
                <!-- <div class="img-container">
                    <h1 class="mazel">Mazel tov!</h1>
                        <p><span class="kallah"><b>Yael Devorah Goldberg</b></span><br>and<br><span class="chosson">Dovi Kleiman</span></p>
                        <a data-original="bridalshowerpic.png" class=" view">View</a>
                    </div>
                <div class="img-container">
                    <h1 class="mazel">Mazel tov!</h1>
                        <p><span class="kallah"><b>Rochel Schechter</b></span><br>and<br><span class="chosson">Yechiel Jaskiel</span></p>
                        <a data-original="bridalshowerpic.png" class=" view">View</a>
                    </div> -->
            </div>
        
        
            <h1 style="margin-top: 25px;">All couples</h1>
            <form action="/announcements/search" method="GET" class="search-bar">
                <input type="text" placeholder="search" name="query" id="searchBar" pattern="[a-zA-Z]+">
                <!-- onkeyup="sendData(this)" -->
                <button type="submit"><i class="fa-solid fa-magnifying-glass"></i></button>
            </form>
        
            
         
            <div class="table">
                <%- include('coupleTable'); -%>
            </div>                

        

        <!-- <div class="table">
            <% coupleInfo.forEach(couple => { %> 
                <div class="img-container"  id="announcements">
                    
                        <%  if (couple.chossonOrigin === '1' && couple.kallahOrigin === '1') { %>
                            <p>
                                <span><b><%= couple.chossonName %></b></span>
                                <br>and<br>
                                <span><b><%= couple.kallahName %></b></span>
                            </p>
                            
                        <% }
                            else if (couple.chossonOrigin === '1') { %>
                            <p>
                                <span><b><%= couple.chossonName %></b></span>
                                <br>and<br>
                                <span><%= couple.kallahName %></span>
                            </p>                            
                          <%  }
                            else { %>
                                <p>
                                    <span><b><%= couple.kallahName %></b></span>
                                    <br>and<br>
                                    <span><%= couple.chossonName %></span>
                                </p>
                           <% } %>

                    
                    <a data-original="Yehudis Greenebaum and Ahron Yosef Blumenfeld[6933].jpg" class="status view">View</a>
                </div>
            <% }) %> -->
            
            
            
            
            
            <!-- <div class="img-container"  id="announcements">
                    <p><span class="kallah"><b>Yehudis Greenbaum</b></span><br>and<br><span class="chosson">Ahron Yosef Blumenfeld</span></p>
                    <a data-original="Yehudis Greenebaum and Ahron Yosef Blumenfeld[6933].jpg" class="status view">View</a>
                </div>
            <div class="img-container">
                    <p><span class="kallah"><b>Yael Devorah Goldberg</b></span><br>and<br><span class="chosson">Dovi Kleiman</span></p>
                    <a data-original="Screenshot2.png" class="status view">View</a>
                </div>
            <div class="img-container">
                    <p><span class="kallah"><b>Rochel Schechter</b></span><br>and<br><span class="chosson">Yechiel Jaskiel</span></p>
                    <a data-original="Screenshot3.png" class="status view">View</a>
                </div>
            <div class="img-container">
                    <p><span class="chosson"><b>Ehud Kogan</b></span><br>and<br><span class="kallah">Devora Spitz</span></p>
                    <button data-original="image"class="status pending">Pending</button>
                </div>
            <div class="img-container">
                    <p><span class="chosson"><b>Ami Zurrof</b></span><br>and<br><span class="kallah">Miriam Zuckerman</span></p>
                    <a data-original="screenshot4.png" class="status view">View</a>
                </div>
            <div class="img-container">
                    <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                    <button data-original="image"class="status pending">Pending</button>
            </div>
            <div class="img-container">
                    <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                    <button data-original="image"class="status pending">Pending</button>
            </div>
            <div class="img-container">
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button data-original="image"class="status pending">Pending</button>
            </div>
            <div class="img-container">
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button data-original="image"class="status pending">Pending</button>
            </div>
            <div class="img-container">
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button data-original="image"class="status pending">Pending</button>
            </div>
            <div class="img-container">
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button data-original="image"class="status pending">Pending</button>
            </div>
            <div class="img-container">
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button data-original="image"class="status pending">Pending</button>
            </div>
            <div class="img-container">
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button data-original="image"class="status pending">Pending</button>
            </div>
            <div class="img-container">
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button data-original="image"class="status pending">Pending</button>
            </div>
            <div class="img-container">
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button data-original="image"class="status pending">Pending</button>
            </div>
            <div class="img-container">
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button data-original="image"class="status pending">Pending</button>
            </div>
            <div class="img-container">
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button data-original="image"class="status pending">Pending</button>
            </div>
            <div class="img-container">
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button data-original="image"class="status pending">Pending</button>
            </div>
            <div class="img-container">
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button data-original="image"class="status pending">Pending</button>
            </div>
            <div class="img-container">
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button data-original="image"class="status pending">Pending</button>
            </div>
            <div class="img-container">
                <p><b>Estee Feurerstein</b><br>and<br>Jason Reiter</p>
                <a data-original="screenshot5.png"class="status view">View</a>
            </div>
            <div class="img-container">
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button data-original="image"class="status pending">Pending</button>
            </div>
            <div class="img-container">
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button data-original="image"class="status pending">Pending</button>
            </div>
            <div class="img-container">
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button data-original="image"class="status pending">Pending</button>
            </div>
            <div class="img-container">
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button data-original="image"class="status pending">Pending</button>
            </div> -->
    




<!-- <div class="table">
    <ul>
        <li>
            <div>
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button data-original="image"class="status pending">Pending</button>
            </div>
        </li>
        <li>
            <div>
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button class="status pending">Pending</button>
            </div>
        </li>
        <li>
            <div>
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button class="status pending">Pending</button>
            </div>
        </li>
        <li>
            <div>
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button class="status pending">Pending</button>
            </div>
        </li>
        <li>
            <div>
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <a data-original="BridalShowerAssets/images/Yehudis Greenebaum and Ahron Yosef Blumenfeld[6933].pdf" class="status view">View</a>
            </div>
        </li>
        <li>
            <div>
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button class="status pending">Pending</button>
            </div>
        </li>
        <li>
            <div>
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button class="status pending">Pending</button>
            </div>
        </li>
        <li>
            <div>
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button class="status pending">Pending</button>
            </div>
        </li>
        <li>
            <div>
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button class="status pending">Pending</button>
            </div>
        </li>
        <li>
            <div>
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <a class="status view">View</a>
            </div>
        </li>
        <li>
            <div>
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <a class="status view">View</a>
            </div>
        </li>
        <li>
            <div>
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button class="status pending">Pending</button>
            </div>
        </li>
        <li>
            <div>
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button class="status pending">Pending</button>
            </div>
        </li>
        <li>
            <div>
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button class="status pending">Pending</button>
            </div>
        </li>
        <li>
            <div>
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <a class="status view">View</a>
            </div>
        </li>
        <li>
            <div>
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button class="status pending">Pending</button>
            </div>
        </li>
        <li>
            <div>
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button class="status pending">Pending</button>
            </div>
        </li>
        <li>
            <div>
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button class="status pending">Pending</button>
            </div>
        </li>
        <li>
            <div>
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button class="status pending">Pending</button>
            </div>
        </li>
        <li>
            <div>
                <p><b>Ehud Kogan</b><br>and<br>Devora Spitz</p>
                <button class="status pending">Pending</button>
            </div>
        </li>

    </ul>
</div> -->

</div>

<script>
    // function sendData(e) {
    //     fetch('announcements/getCouples', {
    //         method: 'POST',
    //         headers: {'Content-Type': 'application/json'},
    //         body: JSON.stringify({payload: e.value})
    //     })    
    // }
    const searchB = document.querySelector('input[name="query"]')
    const form = document.querySelector('form')

    searchB.addEventListener('input', (event) => {
        const query = '^'+event.target.value
        const url = `/announcements/search?query=${query}`
        const xhr = new XMLHttpRequest()
        xhr.open('GET', url)
        xhr.onload = () => {
            const tbody = document.querySelector('.table')
            tbody.innerHTML = xhr.responseText
        }
        xhr.send()
    })

    form.addEventListener('submit', (event) => {
        event.preventDefault()  
    })

    const inputField = document.getElementById("searchBar");

    inputField.addEventListener("keypress", (event) => {
    const key = event.key;
    const onlyLetters = /^[a-zA-Z]*$/;
    
    if (!onlyLetters.test(key)) {
        event.preventDefault();
    }
    });
</script>

<script src="../assets/js/menu.js"></script>
<!-- <script src="fade.js"></script> -->
<!-- <script src="../assets/js/smoothScroll.js"></script> -->
<script src="../assets/js/imagePopup.js"></script>
<script src="../assets/js/searchBar.js"></script>

<!-- <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.concat.min.js" integrity="sha512-2hIlk2fL+NNHkULe9gGdma/T5vSYk80U5tvAFSy3dGEl8XD4h2i6frQvHv5B+bm/Itmi8nJ6krAcj5FWFcBGig==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script type="text/javascript">
        $(function(){
            $(".scroll").mCustomScrollbar({
                theme: "rounded-dots"
                //"rounded-dots-dark"
                //"rounded-dark"
                //inset-3-dark"
                //"3d-dark"
                //"dark-thin"

            })
        })
    </script> -->

</body>

</html>